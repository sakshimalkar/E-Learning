<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JavaScript Quiz App with Timer</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap');

       body {
      font-family: 'Poppins', sans-serif;
      display: flex;
      justify-content: center;
	  background-image: url('certificates/quize.jpeg');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
    }

    .container {
      width: 450px;
      padding: 20px;
      margin-top: 80px;
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      border-radius: 20px;
    }

    h1 {
      text-align: center;
    }

    .question {
      font-weight: bold;
      margin-bottom: 10px;
    }

    .options {
      margin-bottom: 20px;
    }

    .option {
      display: block;
      margin-bottom: 10px;
    }

    .button {
      display: inline-block;
      padding: 10px 20px;
      background-color: #428bca;
      color: #fff;
      border: none;
      cursor: pointer;
      font-size: 16px;
      border-radius: 4px;
      transition: background-color 0.3s;
      margin-right: 10px;
    }

    .button:hover {
      background-color: #3071a9;
    }

    .result {
      text-align: center;
      margin-top: 20px;
      font-weight: bold;
    }

    .hide {
      display: none;
    }

    #timer {
      font-size: 18px;
      text-align: center;
      margin-bottom: 20px;
      color: red;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Quiz App</h1>
    <div id="timer" class="result">Time Left: <span id="time">05:00</span></div>

    <div id="quiz"></div>
    <div id="result" class="result"></div>
    <button id="submit" class="button">Submit</button>
    
    <button id="examform-btn" class="button" disabled>Exam Certification Form</button>
  </div>
 <script>
 
 const quizData = [
   {
    question: 'What does PHP stand for?',
    options: ['Personal Home Page', 'Preprocessor Hypertext', 'PHP: Hypertext Preprocessor', 'Private Home Page'],
    answer: 'PHP: Hypertext Preprocessor',
  },
  {
    question: 'Which symbol is used to declare a variable in PHP?',
    options: ['$', '#', '&', '@'],
    answer: '$',
  },
  {
    question: 'Which function is used to include a file in PHP?',
    options: ['include()', 'add()', 'require()', 'Both include() and require()'],
    answer: 'Both include() and require()',
  },
  {
    question: 'How can you start a session in PHP?',
    options: ['session_start()', 'start_session()', 'session_begin()', 'begin_session()'],
    answer: 'session_start()',
  },
  {
    question: 'Which of the following is used to check for errors in PHP code?',
    options: ['var_dump()', 'error_check()', 'debug()', 'try...catch block'],
    answer: 'var_dump()',
  },
  {
    question: 'What is the correct way to open a PHP tag?',
    options: ['<?php', '<php>', '<?', '</php>'],
    answer: '<?php',
  },
  {
    question: 'What is the default file extension for PHP files?',
    options: ['.php', '.html', '.ph', '.phtml'],
    answer: '.php',
  },
  {
    question: 'Which method sends form data as part of the URL in PHP?',
    options: ['POST', 'GET', 'REQUEST', 'None'],
    answer: 'GET',
  },
  {
    question: 'What is the purpose of the isset() function in PHP?',
    options: [
      'To check if a variable is set and not NULL',
      'To destroy a variable',
      'To define a variable',
      'To check the data type of a variable',
    ],
    answer: 'To check if a variable is set and not NULL',
  },
  {
    question: 'Which superglobal variable is used to collect form data in PHP?',
    options: ['$_REQUEST', '$_GET', '$_POST', 'All of the above'],
    answer: 'All of the above',
  },
];


const quizContainer = document.getElementById('quiz');
    const resultContainer = document.getElementById('result');
    const submitButton = document.getElementById('submit');
    
    const examformButton = document.getElementById('examform-btn');
    const timerElement = document.getElementById('time');

    let currentQuestion = 0;
    let score = 0;
    let incorrectAnswers = [];
    let timeLeft = 300; // 5 minutes in seconds
    let timerInterval;

    function displayQuestion() {
      const questionData = quizData[currentQuestion];
      quizContainer.innerHTML = `<div class='question'>${questionData.question}</div>` +
        questionData.options.map(option => `<label class='option'><input type='radio' name='quiz' value='${option}'> ${option}</label>`).join('');
    }

    function checkAnswer() {
      if (timeLeft <= 0) return; // Prevent submitting after time ends
      const selectedOption = document.querySelector('input[name="quiz"]:checked');
      if (selectedOption) {
        if (selectedOption.value === quizData[currentQuestion].answer) {
          score++;
        } else {
          incorrectAnswers.push({ question: quizData[currentQuestion].question, incorrectAnswer: selectedOption.value, correctAnswer: quizData[currentQuestion].answer });
        }
        currentQuestion++;
        currentQuestion < quizData.length ? displayQuestion() : displayResult();
      }
    }

    function displayResult() {
      clearInterval(timerInterval);
      quizContainer.style.display = 'none';
      submitButton.disabled = true;
      
      examformButton.disabled = false;
      resultContainer.innerHTML = `Time Over or Quiz Completed! <br> You scored ${score} out of ${quizData.length}.`;
      localStorage.setItem('quizScore', score);
	  localStorage.setItem('userName', 'Sakshi'); // Replace with dynamic value if needed
      localStorage.setItem('courseName', 'PHP'); // Replace with actual course
    }


    
    function startTimer() {
      timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          displayResult();
        } else {
          timeLeft--;
          const minutes = Math.floor(timeLeft / 60).toString().padStart(2, '0');
          const seconds = (timeLeft % 60).toString().padStart(2, '0');
          timerElement.textContent = `${minutes}:${seconds}`;
        }
      }, 1000);
    }

    submitButton.addEventListener('click', checkAnswer);
    
    examformButton.addEventListener('click', () => window.location.href = 'examform.html');

    displayQuestion();
    startTimer();
  </script>
 
 
 
</body>
</html>